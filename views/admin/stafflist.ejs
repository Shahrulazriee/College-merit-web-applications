<%- include ("../_partial/_header") -%> <%- include ("../_partial/_sidebar2")
-%>

<meta name="viewport" content="width=device-width, initial-scale=1" />
<html>
	<head>
		<style>
			.center {
				margin: auto;
				width: 100%;
				border: 3px solid #6d6e6c;
				padding: 10px;
				position: center;
				background-color: rgb(255, 255, 255);
			}
			.center1 {
				margin: auto;
				width: 100%;
				border: 3px solid #6d6e6c;
				padding: 10px;
				position: center;
				border-radius: 10px;
				background-color: rgb(255, 255, 255);
			}
			.column {
				float: left;
				width: 30%;
				padding: 10px;
				border-radius: 10px;
				border-style: solid;
				border-color: rgb(255, 255, 255);
				column-count: 0;
				column-gap: 40px;
				background-color: #263525;
				color: white;
			}

			/* Clear floats after the columns */
			.row:after {
				content: "";
				display: table;
				clear: both;
			}
			.container {
				margin: auto;
				padding-left: 40px;
			}
			.hd {
				text-align: center;
				color: rgb(186, 29, 29);
				font-weight: bold;
			}
			.h1 {
				padding-top: 10px;
				color: #494a47;
			}
			.body {
				background-color: rgb(224, 227, 227);
			}
			.headers {
				grid-area: header;
				background-color: #420a0a;
				padding: 10px;
				text-align: left;
				color: white;
			}
			* {
				box-sizing: border-box;
			}

			#myInput {
				background-image: url("/css/searchicon.png");
				background-position: 10px 10px;
				background-repeat: no-repeat;
				width: 100%;
				font-size: 16px;
				padding: 12px 20px 12px 40px;
				border: 1px solid #ddd;
				margin-bottom: 12px;
			}

			#myTable {
				border-collapse: collapse;
				width: 100%;
				border: 1px solid #ddd;
				font-size: 18px;
			}

			#myTable th,
			#myTable td {
				text-align: left;
				padding: 12px;
			}

			#myTable tr {
				border-bottom: 1px solid #ddd;
			}

			#myTable tr.header,
			#myTable tr:hover {
				background-color: #f1f1f1;
			}
		</style>
	</head>
	<!-- <link
		href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
		rel="stylesheet"
	/> -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

	<body class="body">
		<h1 class="h1">Unicycle:</h1>
		<h1 class="h1">Merit Management</h1>

		<br />
		<!-- content -->
		<div class="headers">
			<h1 style="font-size: 20px">STAFF LIST</h1>
		</div>

		<div class="center" id="" style="overflow: scroll; height: 500px">
			<input
				type="text"
				id="myInput"
				onkeyup="myFunction()"
				placeholder="Search for names.."
				title="Type in a name"
			/>

			<table id="myTable">
				<tr class="header">
					<th style="width: 5%">NO</th>
					<th style="width: 5%">STAFF ID</th>
					<th style="width: 10%">STAFF NAME</th>
					<th style="width: 10%">STAFF EMAIL</th>
					<th style="width: 10%">TELEHPONE NUMBER</th>
					<th style="width: 5%">EDIT</th>
					<th style="width: 5%">DELETE</th>
				</tr>
				<% let count = 1; for (let staff of data){ let currID =
				staff.staffID;%>
				<tr>
					<td><%= count %></td>
					<td><%= staff.staffID %></td>
					<td><%= staff.staffName %></td>
					<td><%= staff.email %></td>
					<td><%= staff.phoneNumber %></td>
					<td>
						<a href="/stafflist/<%= staff.staffID %>">
							<button class="btn btn-primary" type="submit">
								Edit
							</button>
						</a>
					</td>
					<td>
						<!-- Button trigger modal -->
						<!-- <a href="/deletestaff/<%= currID %>"> -->
						<button
							name="modal"
							type="button"
							class="btn btn-danger"
							data-bs-toggle="modal"
							data-bs-target="#staticBackdrop"
						>
							Delete
						</button>
						<!-- </a> -->
						<div
							class="modal fade"
							id="staticBackdrop"
							data-bs-backdrop="static"
							data-bs-keyboard="false"
							tabindex="-1"
							aria-labelledby="staticBackdropLabel"
							aria-hidden="true"
						>
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<h5
											class="modal-title"
											id="staticBackdropLabel"
										>
											Modal title
										</h5>
										<button
											type="button"
											class="btn-close"
											data-bs-dismiss="modal"
											aria-label="Close"
										></button>
									</div>
									<div class="modal-body">...</div>
									<div class="modal-footer">
										<button
											type="button"
											class="btn btn-secondary"
											data-bs-dismiss="modal"
										>
											Close
										</button>
										<a href="/deletestaff/<%= currID %>">
											<button
												class="btn btn-danger"
												type="submit"
											>
												Confirm delete
											</button>
										</a>
									</div>
								</div>
							</div>
						</div>
					</td>
				</tr>
				<% count++; }%>
			</table>
		</div>
		<!-- <div
			class="modal fade"
			id="staticBackdrop"
			data-bs-backdrop="static"
			data-bs-keyboard="false"
			tabindex="-1"
			aria-labelledby="staticBackdropLabel"
			aria-hidden="true"
		>
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="staticBackdropLabel">
							Modal title
						</h5>
						<button
							type="button"
							class="btn-close"
							data-bs-dismiss="modal"
							aria-label="Close"
						></button>
					</div>
					<div class="modal-body">...</div>
					<div class="modal-footer">
						<button
							type="button"
							class="btn btn-secondary"
							data-bs-dismiss="modal"
						>
							Close
						</button>
						<button class="btn btn-danger" type="submit">
							Confirm delete
						</button>
					</div>
				</div>
			</div>
		</div> -->

		<script>
			function myFunction() {
				var input, filter, table, tr, td, i, txtValue;
				input = document.getElementById("myInput");
				filter = input.value.toUpperCase();
				table = document.getElementById("myTable");
				tr = table.getElementsByTagName("tr");
				for (i = 0; i < tr.length; i++) {
					td = tr[i].getElementsByTagName("td")[0];
					if (td) {
						txtValue = td.textContent || td.innerText;
						if (txtValue.toUpperCase().indexOf(filter) > -1) {
							tr[i].style.display = "";
						} else {
							tr[i].style.display = "none";
						}
					}
				}
			}
		</script>
	</body>
</html>

<%- include ("../_partial/_footer") -%>
